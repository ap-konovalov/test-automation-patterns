# Про паттерн

Паттерн Strategy (Стратегия) — это способ организации кода, при котором мы выносим изменяющееся поведение в отдельные классы. Это позволяет
легко подменять логику выполнения в зависимости от ситуации.
Проще говоря: у нас есть общий интерфейс (например, "как логиниться"), и несколько реализаций (логин по email, логин по телефону, логин
через соцсети). Мы можем выбирать нужную стратегию прямо во время выполнения теста.

## Когда использовать?

Когда хотим легко добавлять новые варианты поведения без изменения существующего кода. Это соответствует принципу Open/Closed (открыт для
расширения, закрыт для модификации) в SOLID.
Когда хотим избавиться от громоздких if-else или switch-case конструкций.
Когда хотим иметь гибкость и легко менять поведение программы.

## Как реализовать?

1. [Создаем интерфейс, который будет описывать общее поведение.](src/main/java/ru/nmt/interfaces/LoginStrategy.java)
2. [Создаем несколько классов-реализаций этого интерфейса.](src/main/java/ru/nmt/strategy)
3. [Создаем класс контекста, который хранит текущую стратегию поиска и предоставляет метод для ее выполнения. Это позволяет динамически 
   переключать стратегии во время выполнения тестов.](src/main/java/ru/nmt/strategy/LoginContext.java)
4. [В тестовом классе выбираем и выполняем конкретную стратегию.](src/test/java/AOLoginWithStrategyTest.java)

# Задача
![Форма авторизации Альфа-Онлайн](images/AO_auth_form.png)
Нужно написать тесты на авторизацию в Альфа-Онлайн. Есть 2 способа авторизации: по телефону и по логину.
[Ссылка на форму](https://private.auth.alfabank.ru/passport/cerberus-mini-green/dashboard-green/phone_auth?response_type=code&client_id=newclick-web&non_authorized_user=true)

# Решение без применения паттерна

[AOLoginTest](src/test/java/AOLoginTest.java)

## ❌ Минусы:
- Логика всех способов логина смешана в одном методе.
- При добавлении нового способа логина нужно менять существующий код (нарушение принципа открытости/закрытости — Open/Closed Principle).
- Много if-else, которые сложно читать и поддерживать.
- Трудно переиспользовать код в других тестах.
- Тесты становятся менее читаемыми.

# Решение с применением паттерна

[AOLoginWithStrategyTest](src/test/java/AOLoginWithStrategyTest.java)

## ✅ Плюсы:
- Код легко расширяется: добавление нового способа логина — это просто новая реализация интерфейса.
- Нет дублирования логики.
- Поведение изолировано — каждый способ логина в своём классе.
- Код легче читать и поддерживать.
- Тесты становятся более читаемыми и предсказуемыми.
- Соблюдаются принципы SOLID (особенно Open/Closed и Single Responsibility).