# Про паттерн Facade
**Facade** — это простой интерфейс для работы со сложной подсистемой, содержащей множество классов. Фасад может иметь урезанный интерфейс, 
не имеющий 100% функциональности, которой можно достичь, используя сложную подсистему напрямую. Но он предоставляет именно те фичи, 
которые нужны клиенту, и скрывает все остальные.<br>

Аналог из жизни: когда заказываешь товары на Ozon - приложение на телефоне это ваш фасад ко всем службам маркетплейса. Приложение 
представляет вам упрощенный интерфейс к системе создания заказа, оплаты, доставки. 

## Когда использовать?
Когда есть сложное взаимодействие в тестах, которое хочется спрятать, чтобы: 
- тест стали более читаемыми
- тесты стали короче
- было меньше дублирования кода за счет переиспользования методов фасада
- переиспользовать методы фасада для выполнения одинаковых действий в разных тестах

# Задача
Необходимо протестировать сайт https://bookcart.azurewebsites.net/ <br>
На сайте есть форма регистрации и авторизации. Мы проверяем функционал для авторизованных пользователей. Чтобы тесты были независимы от 
данных, мы хотим создавать пользователя в начале теста путем заполнения регистрационной формы. 

# Решение без паттерна
[LoginTest.java](src/test/java/LoginTest.java) 

## ❌ Минусы:
- Тест перегружается деталями выполнения простых шагов: регистрация и авторизация пользователя 
- Читаемость плохая 
- Сложно переиспользовать в других тестах шаги по регистрации/авторизации

# Решение c паттерном Loadable Component
[LoginWithFacadeTest.java](src/test/java/LoginWithFacadeTest.java)

## ✅ Плюсы применения паттерна:
- Тест короткий и читабельный — видно, что именно тестируется.
- Убрали дублирование — логика авторизации/регистрации в одном месте. 
- Если логика авторизации/регистрации поменяется, меняем только фасад.
- Можно переиспользовать фасад в других тестах.
- Легче масштабировать — можно добавлять новые методы, например разлогинивания. 

# Что почитать
https://medium.com/@nayani.shashi8/simplifying-test-automation-with-design-patterns-part-1-facade-pattern-c58ab40a64b6
https://www.automatetheplanet.com/facade-design-pattern-java/
https://refactoring.guru/ru/design-patterns/facade