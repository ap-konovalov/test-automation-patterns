# Задача 1: Протестировать функционал логина

![Страница логина](images/loginPage.png) 

# Решение без применения паттерна
[Решение без применения паттерна](src/test/java/login/LoginTestWithoutFactory.java)

## ❌ Минусы:

- Тест "грязный" — содержит много локаторов.
- При изменении локатора нужно менять во всех тестах.
- Сложно поддерживать при росте количества тестов.

## Решение с применением паттернов Page Object Model + Page Factory
[Решение с применением паттерна](src/test/java/login/LoginTestWithPOMAndFactory.java)

## ✅ Плюсы:
- Логика работы со страницей вынесена в отдельный класс. 
- Тест стал читабельным и понятным. 
- Можно переиспользовать методы login() и verifyUserIsLoggedIn() в других тестах. 
- Легко обновлять локаторы — достаточно поменять их в одном месте.

# Про паттерн Factory
**Factory** — паттерн для создания объектов. Он позволяет создавать объекты, не раскрывая логику создания. Например, вместо new LoginPage()
мы 
используем "фабричный" метод:  
```java
PageFactory.initElements(driver, new LoginPage());
```

Для Selenide:
```java
Selenide.page(LoginPage.class);
```
Эти фабричные методы скрывают под капотом детали создания элементов.

## Что происходит под капотом методов
1. **Инициализация элементов**
   Когда ты помечаешь поля в классе аннотациями `@FindBy`, `@FindBys` или `@FindAll`, то при вызове:
```java
Selenide.page(LoginPage.class);
```
происходит следующее:
- Сканируются все поля в классе LoginPage, помеченные аннотациями. 
- Для каждого такого поля создаётся proxy-объект (заглушка), которая знает, как найти элемент на странице. 
- При первом обращении к элементу (usernameField.setValue("user")) — браузер ищет его по указанному локатору.

2. **Ленивая инициализация (Lazy Initialization)**
Page Factory создаёт элементы только тогда, когда они нужны, а не сразу при старте. Это экономит ресурсы и ускоряет выполнение тестов.

Пример:
```java
@FindBy(id = "username")
private SelenideElement usernameField;
```

Элемент найдётся только при вызове:
```java
usernameField.setValue("user");

```

3. **Централизованное управление локаторами**
   Все локаторы сосредоточены в одном месте — в классе страницы. Если интерфейс изменился, достаточно обновить один файл, а не искать локаторы во всех тестах.

## Где еще может пригодиться?
- Создание Factory с WebDriver для запуска тестов в разных браузерах.
- Для API тестов если нужно создать клиенты для отправки запросов в разных тестовых средах(dev, stage).
- Factory для загрузки различных конфигов, например из config.properties  `AppConfig config = ConfigFactory.loadConfig();`